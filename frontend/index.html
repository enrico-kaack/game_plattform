<html>
<head>
    <link href="css/design.css" rel="stylesheet">
    <script src="js/main.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.js"></script>
    <script>
    var chat = io.connect('http://localhost:3000/chat');
    var game_data = io.connect('http://localhost:3000/game_data')
    chat.on('connect', function () {
        chat.emit('join', "Hi", "Bob")
        chat.emit('sendChat', 'first message')
    });
    chat.on('updateChat', function(username, message){
        console.log("message received", message)
        var item = document.createElement("div");
        item.innerText = username + ": " + message

        document.getElementById("chat_list").appendChild(item)
    })
    
    function sendChat(){
        var text = document.getElementById("chat_input").value;
        chat.emit("sendChat", text)

        var item = document.createElement("div");
        item.innerText = "You: " + text

        document.getElementById("chat_list").appendChild(item)
    }


    </script>
</head>
<body>
<div id="member_area">Links sss</div>
<div id="game_area">Mitte</div>
<div id="chat_area">
    <div id="chat_list">
        
    </div>    
    <div class="bottom">
        <input id="chat_input" type="text"></input>
        <button onclick="sendChat()">Send</button>
    </div>
</div>

</body>
</html>